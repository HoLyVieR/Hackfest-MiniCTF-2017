#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <unistd.h>

void secret() {
	system("bash");
}

void start() {
	char user[32];

	puts("User : ");
	gets(user);

	write(1, "Hello ", 6);
	write(1, user, strlen(user));
	puts("!");
}

void main() {
	if (seteuid(1001) == -1 || setuid(1001) == -1 || setegid(1001) == -1 || setgid(1001) == -1) {
		printf("Error for 'setuid'\n");
	}

	setvbuf(stdout, NULL, _IONBF, 0);
	start();
}